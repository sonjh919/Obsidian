#Elasticsearch 

## bool
bool 쿼리는 여러 쿼리를 조합하여 검색하는 쿼리이다. 4가지 종류의 조건절에 다른 쿼리를 조합하여 사용한다. 모두 지정할 필요는 없으며 필요한 것만 골라서 사용하면 된다.

> [!summary]+ 
> + must
> + must_not
> + filter
> + should

```json
GET [인덱스 이름]/_search
{
	"query":{
		"bool": {
		  "must": [
		    {"term": { "FIELD1": { "value": "hello"}}},
		    {"term": { "FIELD2": { "value": "world"}}}
		  ],
		  "must_not": [
		    {"term": { "FIELD4": { "value": "test"}}}
		  ],
		  "filter": [
		    {"term": { "FIELD3": { "value": true}}}
		  ],
		  "should": [
		    {"match": { "FIELD4": { "query": "elasticsearch"}}},
		    {"match": { "FIELD5": { "query": "lucene"}}}
		  ],
		  "minimum_should_match": 1
		}
	}
}
```

### must, filter
+ must 조건절과 filter 조건절에 들어간 하위 쿼리는 모두 AND 조건으로 만족해야 최종 검색 결과에 포함된다.
### must_not
+ must_not 조건절에 들어간 쿼리를 만족하는 문서는 최종 검색 결과에서 제외된다.
### should
+ should 조건절에 들어간 쿼리는 `minimum_should_match`에 지정한 개수 이상의 하위 쿼리를 만족하는 문서가 최종 검색 결과에 포함된다. 기본값은 1이며, 1이라면 should 조건절에 들어간 쿼리는 OR 조건으로 검색하는 것과 같다.

## 쿼리 문맥과 필터 문맥