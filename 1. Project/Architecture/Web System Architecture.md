#Architecture

## Architecture
> [!Summary]+ 
> 서비스의 동작 원리를 나타내는 것

## Web System Architecture
**기능을 얼마나 나눌 것인지**에 따라 달라진다.
### Monolithic
> [!Summary]+ 
> 일반적인 통합 관리 프로젝트

 Web System Architecture는 처음에는 Monolithic으로부터 시작된다. 모든 리소스가 하나로 되어 있기 때문에 빠르게 개발할 수 있고, 프로젝트 하나에 모든 내용이 담겨 있다. 앞으로 추가할 내용이 없는 경우, Mono로 설계해도 나쁘지 않다.

> [!note]+ 장단점
>   **장점**
> + 빠르게 개발이 가능하고, 속도면에서 우월하다.
> 
> **단점**
> + 높은 종속성 때문에 하나의 수정의 의존하는 모든 곳에 영향을 끼칠 수 있다.
> + 사이드 이펙트 검증 및 이슈 관리로 인해 유지 보수성이 좋지 않다.

> [!question]+ 사이드 이펙트?
> 사이드 이펙트 검증은 주로 함수 또는 모듈이 예상대로 작동하는지 확인하기 위해 필요한 과정으로, 함수나 모듈이 외부 상태를 변경하거나 다른 부수 효과를 발생시키는 것을 말한다.
> 
> **Example**
> 파일 시스템 접근, 데이터베이스 쓰기, 네트워크 요청
> 

### SOA(Service Oriented Architecture)
> [!Summary]+ 
> 분리하고, 공통적인 부분은 합친다.

+ 장점 : 기능 별로 분리하고, 공통적인 부분은 한 곳에서 관리한다. 관리가 수월해진다.
+ 단점 : 공통적인 부분이 계속 커진다. 결국 공통적인 부분이 mono 처럼 커지게 되서 mono 와 비슷한 결과를 일으킨다.

### MSA
> [!Summary]+ 
> 기능 별로 필요한 부분에만 영향을 끼칠 수 있을 정도로 작은 단위로 나눈다.

- 장점 : **하나의 변화는 단 하나의 기능에서만 영향을 끼친다.** 서비스별로 DB가 나누어져있기 때문에 하나의 서비스에서 오류가 발생하더라도 다른 서비스에 영향을 주지 않는다. 서비스가 다양해지고, 기능이 많아지니 외부적인 기능(모니터링 등)이 강해진다.
- 단점 : 기능들이 잘게 나눠질수록 속도는 느려진다.

> [!check]+ 
> 내 서비스에 무언가를 추가 했을 때 영향을 받는 서비스가 무엇이 있는지 생각해보면 잘된 것인지 아닌지 알 수 있다. 


## Monolithic vs MSA
제일 중요한 차이점은 **DB의 관리**이다. Mocolithic은 DB가 한곳에 있지만, MSA는 DB가 나누어져 있다. 이로 인해 MSA는 **DB의 오염이 되지 않는다**는 점이 크다. 그렇다면 **DB를 어떻게 쪼갤 것이냐**가 제일 중요한 문제가 된다. 

> [!question]+ MSA와 DB 구조
> MSA 구조로 갈 경우 RDB에 대한 부담이 낮아진다. 또한, 다른 DB에 대한 부담이 적어져야 한다. 