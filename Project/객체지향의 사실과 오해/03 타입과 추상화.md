---
title: 03 타입과 추상화
date: 2024-01-01 16:36
categories:
  - OOP
  - 객체지향의 사실과 오해
tags:
  - OOP
  - 객체지향
  - 개발서적
image: 
path:
---

훌륭한 프로그램을 작성하기 위한 중요한 전제 조건은 **추상화를 정확하게 다루는 능력**이다.

추상화를 통한 복잡성 극복

추상화 : 현실에서 출발하되 불필요한 부분을 도려내가면서 사물의 놀라운 본질을 드러나게 하는 과정

추상화의 수준, 이익, 가치는 목적에 의존적이다.
현상은 복잡하다. 법칙은 단순하다. 버릴 게 무엇인지 알아내라.

추상화
어떤 양상, 세부 사항, 구조를 좀 더 명확하게 이해하기 위해 특정 절차나 물체를 의도적으로 생략하거나 감춤으로써 복잡도를 극복하는 방법

복잡성을 다루기 위해 추상화는 두 차원에서 이루어진다.
첫번째 차원 : 구체적인 사물들 간의 공통점은 취하고 차이점은 버리는 일반화를 통해 단순하게 만드는 것 -> 개념 적용
두번째 차원 : 중요한 부분을 강조하기 위해 불필요한 세부 사항을 제거함으로써 단순하게만드는 것

모든 경우에 추상화의 목적은 복잡성을 이해하기 쉬운 수준으로 단순화하는 것

첫 걸음 : 추상화의 두 차원을 올바르게 이해하고 적용하는 것

객체지향과 추상화 - 트럼프

개념
공통점을 기반으로 객체들을 묶기 위한 그룹
밑에 관점보다는 **개념을 이용해 객체를 분류**할수 있다는게 훨씬 중요

객체랑 특정한 개념을 적용할 수 있는 구체적인 사물을 의미한다. 개념이 객체에 적용됐을 때 객체를 개념의 인스턴스라고 한다.

개념의 세 가지 관점
심볼 : 개념을 가리키는 간략한 이름이나 명칭
내연 : 개념의 완전한 정의
외연 : 개념에 속하는 모든 객체의 집합

분류는 추상화를 위한 도구

타입
타입은 개념이다.

타입은 개념과 동일하다. 따라서 타입이란 우리가 인식하고 있는 다양한 사물이나 객체에 적용할 수 있는 아이디어나 관념을 의미한다. 어떤 객체에 타입을 적용할 수 있을 때 그 객체를 타입의 인스턴스라고 한다. 타입의 인스턴스는 타입을 구성하는 외연인 객체 집합의 일원이 된다.

행동이 우선이다. -> 다형성
객체가 어떤 행동을 하느냐에 따라 타입이 결정된다. = 객체의 타입을 결정하는 적은 객체의 행동뿐이다.
즉, 객체의 내부 표현 방식이 다르더라도 어떤 객체들이 동일하게 행동한다면 그 객체들은 동일한 타입에 속한다.

같은 타입에 속한 객체는 행동만 동일하다면 서로 다른 데이터를 가질 수 있다.
동일한 행동은 동일한 책임을 의미하고, 동일한 책임이란 동일한 메시지 수신을 의미한다.
따라서 동일한 타입에 속한 객체는 내부의 데이터 표현 형식이 다르더라도 동일한 메시지를 수신하고 이를 처리할 수 있다. 다만 내부의 표현 방식이 다르기 때문에 동일한 메시지를 처리하는 방식은 서로 다를 수밖에 없다. 이것은 **다형성**이다. 
다형성 : 동일한 요청에 대해 서로 다른 방식으로 응답할 수 있는 능력
결과적으로 다형적인 객체들은 동일한 타입에 속하게 된다.

타입의 계층
트럼프와 트럼프 인간 -> 일반화/특수화 관계, 두 타입 관의 관계는 행동에 의해 결정된다.

일반적인 타입 = 슈퍼타입
특수한 타입 = 서브타입

서브타입은 슈퍼타입의 행위와 호환되기 때문에 서브타입은 슈퍼타입을 대체할 수 있어야 한다.
어떤 타입을 다른 타입의 서브타입이라고 말할 수 있으려면 다른 타입을 대체할 수 있어야 한다.

일반화는 추상화를 위한 도구다.
"기껏해야 트럼프에 불과해"

객체지향 패러다임을 통해 세상을 바라보는 거의 대부분의 경우에 분류와 일반화/특수화 기법을 동시에 적용하게 된다.

정적 모델
타입의 목적
타입은 시간에 따라 동적으로 변하는 앨리스의 상태를 시간과 무관한 정적인 모습으로 다룰 수 있게 해준다.
-> 타입은 추상화다.
타입을 이용하면 객체의 동적인 특성을 추상화할 수 있다. 타입은 시간에 따른 객체의 상태 변경이라는 복잡성을 단순화할 수 있는 효과적인 방법인 것이다.

동적 모델과 정적 모델
객체를 생각할 때 두 가지 모델을 동시에 고려한다.
1. 객체가 특정 시점에 어떤 상태를 가지냐 -> 객체의 스냅샷, UML에서 객체 다이어그램
객체가 살아 움직이는 동안 상태가 어떻게 변하고 어떻게 행동하는지를 포착하는 것 : 동적 모델

2. 객체가 가질 수 있는 모든 상태와 모든 행동을 시간에 독립적으로 표현하는 것 -> 타입 모델
동적으로 변하는 객체의 상태가 아니라 객체가 속한 타입의 정적인 모습을 표현하기 때문에 정적 모델이라고도 한다.

객체지향 어플리케이션을 설계 및 구현하기 위해서는 동적모델과 정적 모델을 적절히 혼합해야 한다.
클래스를 작성하는 시점 : 정적 모델
객체의 상태 변경 추적, 디버깅 : 동적 모델

정적 모델은 클래스를 이용해 구현
-> **타입을 구현**하는 가장 보편적인 방법은 클래스를 이용하는 것
클래스는 타입을 구현할 수 있는 여러 구현 메커니즘 중 하나일 뿐
객체 분류 기준은 타입이며, 타입을 나누는 기준을 객체가 수행하는 행동