---
title: 06 객체 지도
date: 2024-01-01 22:09
categories:
  - OOP
  - 객체지향의 사실과 오해
tags:
  - OOP
  - 객체지향
  - 개발서적
image: 
path:
---

## 🌈 기능 vs 구조
지도 은유가 정말 좋은 예시인 것 같다. 이 글을 읽고 나는 한번도 구조를 생각한 적이 없다는 생각이 들었다. 구조를 만들려고 노력해봐도, 결국 기능과 큰 연관이 있다고 생각한다. 이번 장의 내용은 많은 프로젝트를 할 때 큰 도움이 될 것 같은 내용들이다.

설계란 기능과 구조 두가지 측면을 함께 녹여 조화를 이루도록 하는 것이다. 좋은 기능이 좋은 소프트웨어를 만드는 충분조건이라고 한다면 좋은 구조는 좋은 소프트웨어를 만들기 위한 필요조건이다.

>
>기능 측면의 설계 : 제품이 사용자를 위해 무엇을 할 수 있는지
구조 측면의 설계 : 제품의 형태가 어떠해야 하는지

설계가 어려운 이유는 어제 약속했던 기능을 제공하는 공시에 내일 변경될지도 모르는 요구사항도 수용할 수 있는 코드를 창조해야 하기 때문이다. 따라서 우리는 미래를 대비해야 하는데, 가장 좋은 방법은 변경을 수용할 수 있는 선택의 여지를 설계에 마련해 놓는 것이다.

설계를 하는 목적은 나중에 설계하는 것을 허용하는 것이며, 설계의 일차적인 목표는 변경에 소요되는 비용을 낮추는 것이다. 이 목표에 만족하는 가장 좋은 방법은 **자주 변경되는 기능이 아닌 안정적인 구조를 중심으로 설계**하는 것이다.

객체지향 접근방법은 자주 변경되지 않는 안정적인 객체 구조를 바탕으로 시스템 기능을 객체 간의 책임으로 분배한다. 객체의 구조에 집중하고 **기능이 객체의 구조를 따르게 만든다.** 즉, 기능의 변경이 있어도 객체의 구조는 그대로 유지된다. **객체를 이용해 지도를 만들어라.**

## 🌈 두 가지 재료
+ **구조** : 사용자나 이해관계자들이 도메인(domain)에 관해 생각하는 개념과 개념들 간의 관계로 표현한다.
+ **기능** : 사용자의 목표를 만족시키기 위해 책임을 수행하는 시스템의 행위로 표현한다.
+ **유스케이스 모델링** : 일반적으로 기능을 수집하고 표현하기 위한 기법
+ **도메인 모델링** : 구조를 수집하고 표현하기 위한 기법

## 🌈 구조
그동안 어떤 곳에서도 도메인이라는 정의에 대해 시원하게 말해주지 않았다고 생각했는데, 이 책에서 정말 잘 정리해 준 것 같다. 예전에 DDD를 한번 공부해 본 적이 있는데, 하는 법은 대충 알지만 속에 숨겨진 의미를 정말 알지는 못했다고 생각한다. 하지만 배경 개념을 알고 나니, 다시 공부해보고 싶은 생각도 들었다.
### 📌 도메인 모델
**사용자가 프로그램을 사용하는 대상 분야**를 도메인이라고 한다. 도메인 모델에서 모델이란 대상을 단순화해서 표현한 것이다. **모델은 지식을 선택적으로 단순화하고 의식적으로 구조화한 형태**이다. 즉, 도메인 모델은 개념과 관계, 다양한 규칙이나 제약 등을 주의 깊게 추상화하고 단순화한 것이다.

도메인 모델은 단순한 다이어그램이 아닌 **멘탈 모델**이다. 우리는 소프트웨어를 설계할 때, 소프트웨어와 관련된 모든 것들이 사람들이 가지고 있는 멘탈 모델과 일치해야 하도록 노력해야 한다.

> 멘탈 모델 : 사람들이 자기 자신, 다른 사람, 환경, 상호작용하는 사물들에 대해 갖는 모형
{: .prompt-info }

도메인 모델은 도메인에 대한 사용자 모델, 디자인 모델, 시스템 이미지를 포괄하도록 추상화한 소프트웨어 모델이다. 즉 도메인 모델은 소프트웨어에 대한 멘탈 모델이고, 최종 코드는 사용자가 도메인을 바라보는 관점을 반영해야 한다. **도메인 주도 개발(DDD)** 인 것이다.

> 디자인 모델 : 설계자가 마음 속에 가지고 있는 시스템에 대한 개념화
{: .prompt-info }

결과적으로 객체지향을 이용하면 사용자 모델, 디자인 모델, 시스템 이미지 모두가 유사한 모습을 유지하도록 만드는 것이 가능한데, 이러한 특징을 **연결완전성**또는 **표현적 차이**라고 한다.

### 📌 은유
소프트웨어 객체와 현실 사이의 객체 관계를 가장 효과적으로 표현할 수 있는 단어는 은유이다. 소프트웨어 객체는 은유를 기반으로 재창조한 것이다.

이 때 소프트웨어 객체와 현실 객체 사이의 의미적 거리를 가리켜 **표현적 차이**라고 한다. 핵심은 표현적 차이를 최대한 줄이는 것이다. 표현적 차이가 줄면 코드를 이해하고 수정하기 쉽게 만들어준다.

여기서 우리가 은유를 통해 투영해야 하는 대상은? 바로 사용자가 도메인에 대해 생각하는 개념, 도메인 모델이다. 즉 **도메인 모델을 기반으로 설계하고 구현하는 것은 사용자가 도메인을 바라보는 관점을 그대로 코드에 반영**할 수 있게 한다.

### 📌 도메인 모델의 구조
도메인 모델을 기반으로 코드를 