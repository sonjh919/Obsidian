#Architecture #DDD 

## Domain Event
도메인에서 발생한 모든 변화로, 어떤 문제나 이슈가 발생한 것을 도메인 관점에서 나열한 것이다.

> [!caution]+ 
> + CRUD의 관점에서 보았을 때, CUD 부분만 도메인 이벤트이다.
> 
> 데이터를 읽는 것은 **변화가 일어나지 않았기 때문에** 이벤트가 아니다.
> 데이터가 생성/수정/삭제되는 것은 **변화가 일어났기 때문에** 이벤트이다.

## Event Storming
> [!info]+ 
> Domain Event + Brain Storming → Event Storming

**도메인에서 발생하는 모든 이벤트를 적고 프로젝트에서 최종적인 어떤 결과물이 나올지를 뽑아내는 작업**이다. 

> [!caution]+ 
> 어떤 설계나 논의할 것이 없을 때까지, 끝까지 진행해야 한다.

## Event Storming하기!
+ 의견 수렴을 위해 디자이너, 프론트, 백앤드 개발자 등이 모두 모여서 진행한다.
+ 기본적인 방식은 [[Component]]를 이용하여 진행한다. 진행 시 기타 주의사항은 다음과 같다.

> [!caution]+ 
> 
> - 완전히 다른 기능이 아니라면 주어를 통합하자.
> - 일어나는 모든 변화를 Domain 관점으로 작성한다.
> - CUD 부분 중 하나가 작성된다면 (ex)수정) 추가와 삭제도 같이 작성한다.
> - 선입견을 가질 수 있는 주어 선택은 지양한다.


## 구현 방식
구현 방식에는 다음과 같은 패턴이 있을 수 있다.
### 데코레이터 패턴
+ 다른 domain의 정보들을 하나의 독립된 domain으로 새롭게 만들어서 관리한다.
+ 데코레이션 패턴의 시스템이 문제가 생겨도 본래 domain에 영향을 주지 않는다.
+ 기존 내용에 추가하거나 가공해서 가지는 것

> [!example]+ 
> 상품이 아닌 찜상품 도메인 만들기

### 임베디드 패턴
+ 기능을 구현하는데에 추가적인 컬럼의 갯수가 많지 않을 때 다른 domain의 저장 값에 컬럼을 추가한다.

### 컴포지트 패턴
+ 다른 domain 들의 정보를 가져와 메모리상에 저장해서 사용한다.
+ 여러가지 도메인을 조합해 새로운 것을 만드는 것

> [!example]+ 
> 별도 서비스를 캐싱해서 쓰고 싶어 ! 

> [!info]+ 데코레이트 vs 컴포지트
> 두 가지를 선택하는 것은 시스템에 따라 결정한다.


