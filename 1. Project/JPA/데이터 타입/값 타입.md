#jpa

## 값 타입
값 타입은 다음 3가지로 나눌 수 있다.

> [!summary]+ 
> 1. 기본값 타입
> + 자바 기본 타입(int, double, ...)
> + 래퍼 클래스(Integer, ...)
> + String
> 2. 임베디드 타입(복합 값 타입)
> 3. 컬렉션 값 타입


## 1. 기본 값 타입
가장 단순하다. 자바에서 제공하는 기본값 타입이며, String, int 등이 있을 수 있다. **식별자 값도 없고**, **생명주기도 엔티티에 의존**한다. 또한 **공유하면 안된다.**

## 2. 임베디드 타입
새로운 값 타입을 직접 정의해서 사용할 수 있는데, JPA에서는 이를 임베디드 타입이라 한다. **임베디드 타입도 값 타입이다.** [[@Embedded]]를 이용하여 설정한다.

> [!note]+ 특징
> + 임베디드 타입은 기본 생성자가 된다.
> + 임베디드 타입을 포함한 모든 값 타입은 엔티티 생명주기에 의존한다. 즉 엔티티와 임베디드 타입의 관계를 UML로 표현하면 컴포지션(composition, 합성) 관계가 된다.

> [!attention]+ 
> 하이버네이트는 임베디드 타입을 **컴포넌트(component)**라고 한다.

### 임베디드 타입과 테이블 매핑
임베디드 타입은 엔티티의 값일 뿐이기 때문에, 값이 속한 엔티티의 테이블에 매핑한다.
![[embeded.png]]

> [!tip]+ 
> 잘 설계된 ORM 어플리케이션은 매핑한 테이블의 수보다 클래스의 수가 더 많다.

